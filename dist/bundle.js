(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
module.exports={map:{gridSize:23},camera:{smoothness:.005}};

},{}],2:[function(require,module,exports){
const Canvas=require("./structure/canvas"),Player=require("./structure/player"),Camera=require("./structure/Camera"),MathHelper=require("./structure/MathHelper"),config=require("./config"),camera=new Camera(0,0),canvas=new Canvas(window.innerWidth,window.innerHeight),player=new Player(1e3,1e3,40),ctx=canvas.getContext(),defaultTransform=new DOMMatrixReadOnly([1,0,0,1,0,0]);let scale,delta=0,lastRender=Date.now(),currentTransform=new DOMMatrixReadOnly([1,0,0,1,0,0]),keyspressed={w:!1,a:!1,s:!1,d:!1};document.addEventListener("keydown",function(e){keyspressed[e.key]=!0}),document.addEventListener("keyup",function(e){keyspressed[e.key]=!1}),document.addEventListener("DOMContentLoaded",()=>{document.getElementById("game-canvas").addEventListener("mousemove",function(e){player.updateMouse(e.clientX,e.clientY)})}),window.addEventListener("resize",function(e){camera.setViewPort(window.innerWidth,window.innerHeight);let r=camera.getViewport();canvas.setAspects(window.innerWidth,window.innerHeight),scale=Math.max(window.innerWidth/r.width,window.innerHeight/r.height),currentTransform=new DOMMatrixReadOnly([scale,0,0,scale,(window.width-r.width*scale)/2,(window.height-r.height*scale)/2]),ctx.setTransform(currentTransform)});let trees=[{x:100,y:100}];function render(){delta=Date.now()-lastRender,lastRender=Date.now();let e=camera.getViewport();ctx.setTransform(currentTransform),ctx.clearRect(0,0,e.width,e.height),canvas.renderBackground(e),canvas.renderGrid(camera,e,config.map.gridSize);const r=MathHelper.getDistance(camera.x,camera.y,player.x,player.y),a=MathHelper.getDirection(camera.x,camera.y,player.x,player.y),t=Math.min(r*config.camera.smoothness*delta,r);camera.x+=t*Math.cos(a),camera.y+=t*Math.sin(a),player.draw(ctx,camera,keyspressed),ctx.beginPath(),ctx.rect(0,0,e.width,e.height),ctx.strokeStyle="black",ctx.stroke();let n=camera.getPosOnScreen(0,0).x,i=camera.getPosOnScreen(0,0).y;canvas.renderCircle(n,i,10,"red"),window.requestAnimationFrame(render)}window.requestAnimationFrame(render);

},{"./config":1,"./structure/Camera":3,"./structure/MathHelper":4,"./structure/canvas":5,"./structure/player":6}],3:[function(require,module,exports){
class Camera{constructor(t,e){this.x=t,this.y=e,this.viewport={width:window.innerWidth,height:window.innerHeight}}getRenderOffset(){return{x:this.x-this.viewport.width/2,y:this.y-this.viewport.height/2}}getPosOnScreen(t,e){const i=this.getRenderOffset();return{x:t-i.x,y:e-i.y}}getViewport(){return this.viewport}setViewPort(t,e){this.viewport.width=t,this.viewport.height=e}}module.exports=Camera;

},{}],4:[function(require,module,exports){
class MathHelper{static getDistance(t,a,e,r){return Math.sqrt(Math.pow(e-t,2)+Math.pow(r-a,2))}static getDirection(t,a,e,r){return Math.atan2(r-a,e-t)}}module.exports=MathHelper;

},{}],5:[function(require,module,exports){
class Canvas{constructor(t,e){this.canvas=document.getElementById("game-canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}getContext(){return this.ctx}setAspects(t,e){this.canvas.width=t,this.canvasheight=e}getAspects(){return{width:this.canvas.width,height:this.height}}renderGrid(t,e,h){let i=this.ctx;i.lineWidth=4,i.strokeStyle="#000000",i.globalAlpha=.1,i.beginPath();for(var s=-t.x;s<e.width;s+=e.height/h)s>0&&(i.moveTo(s,0),i.lineTo(s,e.height));for(var a=-t.y;a<e.height;a+=e.height/h)a>0&&(i.moveTo(0,a),i.lineTo(e.width,a));i.stroke()}renderCircle(t,e,h,i){let s=this.ctx;s.beginPath(),s.arc(t,e,h,0,2*Math.PI),s.fillStyle=i,s.fill()}renderText(t,e,h,i,s){let a=this.ctx;a.fillStyle=i,a.font=s,a.fillText(t,e,h)}renderBackground(t){let e=this.ctx;e.globalAlpha=1,e.beginPath(),e.rect(0,0,t.width,t.height),e.fillStyle="#b0bec2",e.fill()}}module.exports=Canvas;

},{}],6:[function(require,module,exports){
class Player{constructor(t,i,e){this.x=t,this.y=i,this.radius=e,this.speed={x:0,y:0},this.speedMultiplier=1.2,this.velocity={x:0,y:0}}draw(t,i,e){this.update(e),this.conduit(t,i);let s=i.getPosOnScreen(this.x,this.y).x,h=i.getPosOnScreen(this.x,this.y).y;t.beginPath(),t.globalAlpha=1,t.fillStyle="#0085A8",t.arc(s,h,this.radius+6,0,2*Math.PI),t.fill(),t.beginPath(),t.fillStyle="#00b2e1",t.arc(s,h,this.radius,0,2*Math.PI),t.fill()}update(t){t.w?this.velocity.y>-1?this.velocity.y-=.05:this.velocity.y=-1:t.s?this.velocity.y=1:this.velocity.y>0?this.velocity.y-=.02:this.velocity.y<0&&(this.velocity.y+=.02),t.a?this.velocity.x>-1&&(this.velocity.x=-1):t.d?this.velocity.x=1:this.velocity.x>0?this.velocity.x-=.02:this.velocity.x<0&&(this.velocity.x+=.02),this.x+=this.velocity.x*this.speedMultiplier,this.y+=this.velocity.y*this.speedMultiplier}updateMouse(t,i){this.mouseX=t,this.mouseY=i}conduit(t,i){let e=this.mouseX,s=this.mouseY,h=i.getPosOnScreen(this.x,this.y).x,l=i.getPosOnScreen(this.x,this.y).y,o=Math.atan2(s-l,e-h);t.beginPath(),t.globalAlpha=1,t.strokeStyle="#6d6d6d",t.lineWidth="40",t.moveTo(h,l),t.lineTo(h+80*Math.cos(o),l+80*Math.sin(o)),t.fill(),t.stroke(),t.beginPath(),t.globalAlpha=1,t.strokeStyle="#888888",t.lineWidth="29",t.moveTo(h,l),t.lineTo(h+74*Math.cos(o),l+74*Math.sin(o)),t.fill(),t.stroke()}}module.exports=Player;

},{}]},{},[2]);
